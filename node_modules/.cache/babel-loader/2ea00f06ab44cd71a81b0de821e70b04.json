{"ast":null,"code":"var _jsxFileName = \"E:\\\\Ahmed\\\\web\\\\github\\\\React-redux\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport Cart from './components/Cart/Cart';\nimport React from 'react';\nimport { useEffect } from 'react';\nimport Layout from './components/Layout/Layout';\nimport Products from './components/Shop/Products';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Notification from './components/UI/Notification';\nimport { showCartActions } from './components/store/showCart-Slice';\nimport { dataCartActions } from './components/store/cartData-Slice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nlet send = true;\n\nfunction App() {\n  _s();\n\n  const showCart = useSelector(state => state.showCart.showCart);\n  const showNotification = useSelector(state => state.showCart.notification);\n  const cartItems = useSelector(state => state.dataCart.items);\n  const dispatchAdd = useDispatch(); //  useEffect(() => {\n  //   const fetchData= async () => {\n  //     const response = await fetch('https://react-test-aefc2-default-rtdb.firebaseio.com/cart.json')\n  //     if(!response.ok){\n  //       throw new Error('fetching data failed')\n  //     }\n  //     const data = await response.json();\n  //     dispatchAdd(dataCartActions.replaceCartItem(data))\n  //     console.log(data)\n  //   }\n  //   fetchData().catch(error => console.log(error.message))\n  // },[dispatchAdd])\n\n  useEffect(() => {\n    console.log(send);\n\n    if (send) {\n      send = false;\n      return;\n    }\n\n    const fetchData = async () => {\n      console.log(send);\n      dispatchAdd(showCartActions.showNotification({\n        status: 'pending',\n        title: 'sending...',\n        message: 'sending cart data'\n      }));\n      const response = await fetch('https://react-test-aefc2-default-rtdb.firebaseio.com/cart.json', {\n        method: 'PUT',\n        body: JSON.stringify(cartItems),\n        headers: {\n          'content-type': 'application/json'\n        }\n      });\n\n      if (!response.ok) {\n        throw new Error('something went wrong');\n      }\n\n      const data = await response.json();\n      console.log(data);\n      dispatchAdd(showCartActions.showNotification({\n        status: 'success',\n        title: 'Success...',\n        message: 'sending cart data successfully'\n      }));\n    };\n\n    fetchData().catch(error => {\n      dispatchAdd(showCartActions.showNotification({\n        status: 'error',\n        title: 'Error...',\n        message: 'sending cart data failed'\n      }));\n      console.log(error.message);\n    });\n  }, [cartItems, dispatchAdd]);\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [showNotification && /*#__PURE__*/_jsxDEV(Notification, {\n      status: showNotification.status,\n      title: showNotification.title,\n      message: showNotification.message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 28\n    }, this), /*#__PURE__*/_jsxDEV(Layout, {\n      children: [showCart && /*#__PURE__*/_jsxDEV(Cart, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 20\n      }, this), /*#__PURE__*/_jsxDEV(Products, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"yNCtGWbqVsI5HYqlUED3mqRhskI=\", false, function () {\n  return [useSelector, useSelector, useSelector, useDispatch];\n});\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["Cart","React","useEffect","Layout","Products","useDispatch","useSelector","Notification","showCartActions","dataCartActions","send","App","showCart","state","showNotification","notification","cartItems","dataCart","items","dispatchAdd","console","log","fetchData","status","title","message","response","fetch","method","body","JSON","stringify","headers","ok","Error","data","json","catch","error"],"sources":["E:/Ahmed/web/github/React-redux/src/App.js"],"sourcesContent":["import Cart from './components/Cart/Cart';\nimport React from 'react';\nimport { useEffect } from 'react';\nimport Layout from './components/Layout/Layout';\nimport Products from './components/Shop/Products';\nimport {useDispatch, useSelector} from 'react-redux'\nimport Notification from './components/UI/Notification';\nimport {showCartActions} from './components/store/showCart-Slice'\nimport {dataCartActions} from './components/store/cartData-Slice'\n\nlet send = true\nfunction App() {\n   const showCart = useSelector(state => state.showCart.showCart)\n   const showNotification = useSelector(state => state.showCart.notification)\n   const cartItems = useSelector(state => state.dataCart.items)\n   const dispatchAdd = useDispatch()\n   \n  //  useEffect(() => {\n  //   const fetchData= async () => {\n  //     const response = await fetch('https://react-test-aefc2-default-rtdb.firebaseio.com/cart.json')\n  //     if(!response.ok){\n  //       throw new Error('fetching data failed')\n  //     }\n  //     const data = await response.json();\n  //     dispatchAdd(dataCartActions.replaceCartItem(data))\n  //     console.log(data)\n  //   }\n\n  //   fetchData().catch(error => console.log(error.message))\n  // },[dispatchAdd])\n   useEffect(()=>{\n     console.log(send)\n     if(send){\n       send =false;     \n       return;\n     }\n     \n     const fetchData = async() => {\n       console.log(send)\n       dispatchAdd(showCartActions.showNotification({\n         status:'pending',\n         title: 'sending...',\n         message: 'sending cart data'\n       }))\n       const response =await fetch('https://react-test-aefc2-default-rtdb.firebaseio.com/cart.json',{\n         method:'PUT',\n         body:JSON.stringify(cartItems),\n         headers:{'content-type': 'application/json'}\n       })\n       if(!response.ok){\n         throw new Error('something went wrong')\n       }\n       const data = await response.json()\n       console.log(data)\n       dispatchAdd(showCartActions.showNotification({\n         status:'success',\n         title: 'Success...',\n         message: 'sending cart data successfully'\n       }))\n     }\n     \n     \n     fetchData().catch(error => {\n       \n       dispatchAdd(showCartActions.showNotification({\n         status:'error',\n         title: 'Error...',\n         message: 'sending cart data failed'\n       }))\n       console.log(error.message)\n     });\n   },[cartItems, dispatchAdd])\n\n  \n\n  return (\n    <React.Fragment>\n      {showNotification && <Notification status ={showNotification.status} title={showNotification.title} message={showNotification.message}/>}\n      <Layout>\n      {showCart && <Cart />}\n      <Products />\n    </Layout>\n    </React.Fragment>\n    \n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}