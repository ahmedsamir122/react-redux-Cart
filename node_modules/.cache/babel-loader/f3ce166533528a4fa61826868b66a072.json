{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst intialDataCartState = {\n  items: [],\n  totalAmount: 0\n};\nconst dataCartSlice = createSlice({\n  name: 'dataCart',\n  initialState: intialDataCartState,\n  reducers: {\n    addItemToCart(state, action) {\n      const newItem = action.payload;\n      const existingItem = state.items.find(item => item.id === newItem.id);\n\n      if (!existingItem) {\n        state.items.push({ ...newItem,\n          quantity: 1,\n          totalPrice: newItem.price\n        });\n      } else {\n        existingItem.quantity++;\n        existingItem.totalPrice = existingItem.totalPrice + newItem.price;\n        console.log(state.items);\n      }\n    },\n\n    replaceCartItem(state, action) {\n      state.items = action.payload;\n    },\n\n    removeItemFromCart(state, action) {\n      const index = state.items.findIndex(item => action.payload.id === item.id);\n\n      if (state.items[index].quantity === 1) {\n        state.items.splice(index, 1);\n      } else {\n        state.items[index].quantity--;\n        state.items[index].totalPrice = state.items[index].totalPrice + action.payload.price;\n      }\n    }\n\n  }\n});\nexport default dataCartSlice;\nexport const dataCartActions = dataCartSlice.actions;","map":{"version":3,"names":["createSlice","intialDataCartState","items","totalAmount","dataCartSlice","name","initialState","reducers","addItemToCart","state","action","newItem","payload","existingItem","find","item","id","push","quantity","totalPrice","price","console","log","replaceCartItem","removeItemFromCart","index","findIndex","splice","dataCartActions","actions"],"sources":["E:/Ahmed/web/github/React-redux/src/components/store/cartData-Slice.js"],"sourcesContent":["import { createSlice} from \"@reduxjs/toolkit\";\r\n\r\nconst intialDataCartState = {items: [], totalAmount:0};\r\n\r\nconst dataCartSlice = createSlice({\r\n    name:'dataCart',\r\n    initialState: intialDataCartState,\r\n    reducers: {\r\n        addItemToCart(state,action){\r\n        const newItem = action.payload;\r\n        const existingItem = state.items.find(item => item.id === newItem.id)\r\n        if(!existingItem){\r\n            state.items.push({...newItem, quantity:1, totalPrice:newItem.price})\r\n        }\r\n        else {\r\n           existingItem.quantity++\r\n           existingItem.totalPrice = existingItem.totalPrice + newItem.price\r\n           console.log(state.items)\r\n        }\r\n    },\r\n    replaceCartItem(state,action) {\r\n        state.items = action.payload\r\n    },\r\n    removeItemFromCart(state,action){\r\n        const index = state.items.findIndex(item => action.payload.id === item.id) \r\n        if(state.items[index].quantity === 1){\r\n            state.items.splice(index, 1)\r\n        }\r\n        else{\r\n            state.items[index].quantity --;\r\n            state.items[index].totalPrice = state.items[index].totalPrice + action.payload.price\r\n        }\r\n    }\r\n}\r\n});\r\n\r\nexport default dataCartSlice\r\nexport const dataCartActions = dataCartSlice.actions; "],"mappings":"AAAA,SAASA,WAAT,QAA2B,kBAA3B;AAEA,MAAMC,mBAAmB,GAAG;EAACC,KAAK,EAAE,EAAR;EAAYC,WAAW,EAAC;AAAxB,CAA5B;AAEA,MAAMC,aAAa,GAAGJ,WAAW,CAAC;EAC9BK,IAAI,EAAC,UADyB;EAE9BC,YAAY,EAAEL,mBAFgB;EAG9BM,QAAQ,EAAE;IACNC,aAAa,CAACC,KAAD,EAAOC,MAAP,EAAc;MAC3B,MAAMC,OAAO,GAAGD,MAAM,CAACE,OAAvB;MACA,MAAMC,YAAY,GAAGJ,KAAK,CAACP,KAAN,CAAYY,IAAZ,CAAiBC,IAAI,IAAIA,IAAI,CAACC,EAAL,KAAYL,OAAO,CAACK,EAA7C,CAArB;;MACA,IAAG,CAACH,YAAJ,EAAiB;QACbJ,KAAK,CAACP,KAAN,CAAYe,IAAZ,CAAiB,EAAC,GAAGN,OAAJ;UAAaO,QAAQ,EAAC,CAAtB;UAAyBC,UAAU,EAACR,OAAO,CAACS;QAA5C,CAAjB;MACH,CAFD,MAGK;QACFP,YAAY,CAACK,QAAb;QACAL,YAAY,CAACM,UAAb,GAA0BN,YAAY,CAACM,UAAb,GAA0BR,OAAO,CAACS,KAA5D;QACAC,OAAO,CAACC,GAAR,CAAYb,KAAK,CAACP,KAAlB;MACF;IACJ,CAZS;;IAaVqB,eAAe,CAACd,KAAD,EAAOC,MAAP,EAAe;MAC1BD,KAAK,CAACP,KAAN,GAAcQ,MAAM,CAACE,OAArB;IACH,CAfS;;IAgBVY,kBAAkB,CAACf,KAAD,EAAOC,MAAP,EAAc;MAC5B,MAAMe,KAAK,GAAGhB,KAAK,CAACP,KAAN,CAAYwB,SAAZ,CAAsBX,IAAI,IAAIL,MAAM,CAACE,OAAP,CAAeI,EAAf,KAAsBD,IAAI,CAACC,EAAzD,CAAd;;MACA,IAAGP,KAAK,CAACP,KAAN,CAAYuB,KAAZ,EAAmBP,QAAnB,KAAgC,CAAnC,EAAqC;QACjCT,KAAK,CAACP,KAAN,CAAYyB,MAAZ,CAAmBF,KAAnB,EAA0B,CAA1B;MACH,CAFD,MAGI;QACAhB,KAAK,CAACP,KAAN,CAAYuB,KAAZ,EAAmBP,QAAnB;QACAT,KAAK,CAACP,KAAN,CAAYuB,KAAZ,EAAmBN,UAAnB,GAAgCV,KAAK,CAACP,KAAN,CAAYuB,KAAZ,EAAmBN,UAAnB,GAAgCT,MAAM,CAACE,OAAP,CAAeQ,KAA/E;MACH;IACJ;;EAzBS;AAHoB,CAAD,CAAjC;AAgCA,eAAehB,aAAf;AACA,OAAO,MAAMwB,eAAe,GAAGxB,aAAa,CAACyB,OAAtC"},"metadata":{},"sourceType":"module"}